import{b as l,f as e,g as n,r as I,c as N,o as ae,y as c,x as G,h as x,e as d,s as P,I as i,t as o,F as z,E as F,A as w,q as u,C as $,v as k,K as f,w as O,T as Y}from"./vendor-8rVgzruD.js";import{u as ne}from"./inspections-DmLkn9Y3.js";import{u as ie}from"./extinguishers-BkjuEnvJ.js";import{a as le}from"./index-DcSKaWik.js";import{u as oe,r as L}from"./XCircleIcon-CdsB511z.js";import{b as B,A as re}from"./AppLayout-DVMZMm7i.js";import{r as Z}from"./PlusIcon-D7fN4Pmp.js";import{r as b}from"./XMarkIcon-C76yCGqv.js";import{r as W}from"./CheckCircleIcon-Bq29seAH.js";import{r as de}from"./ChartBarIcon-MENjFshL.js";import{r as h}from"./CheckIcon-CRwzpWK7.js";import"./BuildingOfficeIcon-BZlVraTP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InformationCircleIcon-B2m1JJFM.js";function ue(M,p){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function ce(M,p){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}const pe={class:"flex justify-between items-center mb-8"},me={key:0,class:"alert-danger mb-6"},ge={class:"flex-1"},ve={class:"text-sm font-medium"},xe={key:1,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8","data-testid":"stats-cards"},ye={class:"card","data-testid":"stat-card-total"},fe={class:"p-6"},be={class:"flex items-center justify-between mb-2"},he={class:"text-2xl font-bold text-gray-900","data-testid":"total-inspections"},we={class:"card","data-testid":"stat-card-passed"},ke={class:"p-6"},_e={class:"flex items-center justify-between mb-2"},Ie={class:"text-2xl font-bold text-green-600","data-testid":"passed-inspections"},De={class:"card","data-testid":"stat-card-failed"},Se={class:"p-6"},Ce={class:"flex items-center justify-between mb-2"},Pe={class:"text-2xl font-bold text-red-600","data-testid":"failed-inspections"},Ae={class:"card","data-testid":"stat-card-passrate"},Ve={class:"p-6"},Re={class:"flex items-center justify-between mb-2"},Te={class:"text-2xl font-bold text-gray-900","data-testid":"pass-rate"},qe={key:2,class:"card"},Ue={key:3,class:"card","data-testid":"inspections-table-container"},Ee={class:"overflow-x-auto"},Ne={class:"min-w-full divide-y divide-gray-200","data-testid":"inspections-table"},Ge={class:"bg-white divide-y divide-gray-200"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Me={class:"px-6 py-4 whitespace-nowrap"},je={class:"badge-primary"},$e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Oe={class:"px-6 py-4 whitespace-nowrap"},Ye={key:0,class:"badge-warning ml-2"},Be={key:1,class:"badge-danger ml-2"},Ze={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},We=["onClick"],He=["onClick"],Ke={key:4,class:"card","data-testid":"inspections-empty-state"},Je={class:"p-12 text-center"},Qe={class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 mb-4"},Xe={class:"modal-container max-w-4xl"},et={class:"modal-content"},tt={class:"mb-6"},st={class:"flex items-center justify-between mb-4"},at={class:"flex items-center justify-between"},nt={class:"flex flex-col items-center flex-1"},it={key:1},lt={class:"min-h-[400px]"},ot={key:0,class:"space-y-4"},rt={class:"form-group"},dt=["value"],ut={key:0,class:"card bg-gray-50 p-4"},ct={class:"grid grid-cols-2 gap-3 text-sm"},pt={class:"ml-2 font-medium"},mt={class:"ml-2 font-medium"},gt={class:"ml-2 font-medium"},vt={class:"ml-2 font-medium"},xt={key:0},yt={class:"ml-2 font-medium"},ft={key:1},bt={class:"ml-2 font-medium"},ht={class:"form-group"},wt={class:"form-group"},kt={key:1,class:"space-y-6"},_t={class:"card bg-gray-50 p-4"},It={class:"space-y-3"},Dt={class:"flex items-center"},St={class:"flex items-center"},Ct={class:"flex items-center"},Pt={class:"card bg-gray-50 p-4"},At={class:"space-y-3"},Vt={class:"flex items-center"},Rt={class:"flex items-center"},Tt={class:"flex items-center"},qt={class:"flex items-center"},Ut={class:"flex items-center"},Et={class:"card bg-gray-50 p-4"},Nt={class:"space-y-3"},Gt={class:"flex items-center"},zt={class:"card bg-gray-50 p-4"},Ft={class:"space-y-3"},Lt={class:"flex items-center"},Mt={key:0},jt={class:"card bg-gray-50 p-4"},$t={class:"space-y-3"},Ot={key:2,class:"space-y-6"},Yt={class:"form-group"},Bt={class:"space-y-3"},Zt={class:"flex items-center"},Wt={class:"flex items-center"},Ht={key:0,class:"form-group"},Kt={key:1,class:"form-group"},Jt={class:"flex items-center"},Qt={class:"flex items-center justify-between pt-6 border-t border-gray-200 mt-6"},Xt={key:1},es={class:"flex space-x-3"},ts=["disabled"],ss=["disabled"],as={key:0},ns={key:1,class:"flex items-center"},is={class:"modal-container max-w-3xl"},ls={key:0,class:"modal-content"},os={class:"flex items-center justify-between mb-6"},rs={class:"space-y-6"},ds={class:"grid grid-cols-2 gap-4"},us={class:"font-medium"},cs={class:"font-medium"},ps={class:"font-medium"},ms={class:"font-medium"},gs={key:0,class:"ml-2 badge-warning"},vs={key:1,class:"ml-2 badge-danger"},xs={class:"card bg-gray-50 p-4"},ys={class:"grid grid-cols-2 gap-2 text-sm"},fs={class:"flex items-center"},bs={class:"flex items-center"},hs={class:"flex items-center"},ws={class:"flex items-center"},ks={class:"flex items-center"},_s={class:"flex items-center"},Is={class:"flex items-center"},Ds={class:"flex items-center"},Ss={key:0},Cs={class:"text-sm text-gray-700 whitespace-pre-wrap"},Ps={key:1},As={class:"text-sm text-gray-700 whitespace-pre-wrap"},Vs={key:2},Rs={class:"text-sm text-gray-700 whitespace-pre-wrap"},Bs={__name:"InspectionsView",setup(M){const p=ne(),T=ie(),H=le(),D=oe(),A=I(!1),q=I(!1),m=I(0),S=I(!1),r=I(null),V=[{name:"Select"},{name:"Inspect"},{name:"Results"}],s=I({extinguisherId:"",inspectorUserId:"",inspectionDate:new Date().toISOString().split("T")[0],inspectionType:"",gpsLatitude:null,gpsLongitude:null,gpsAccuracyMeters:null,isAccessible:!0,hasObstructions:!1,signageVisible:!0,sealIntact:!0,pinInPlace:!0,nozzleClear:!0,hoseConditionGood:!0,gaugeInGreenZone:!0,gaugePressurePsi:null,physicalDamagePresent:!1,damageDescription:"",weightPounds:null,inspectionTagAttached:!0,previousInspectionDate:null,notes:"",requiresService:!1,requiresReplacement:!1,failureReason:"",correctiveAction:"",photoUrls:[]}),y=N(()=>s.value.extinguisherId?T.getExtinguisherById(s.value.extinguisherId):null),_=N(()=>!s.value.requiresService&&!s.value.requiresReplacement&&s.value.isAccessible&&!s.value.hasObstructions&&s.value.signageVisible&&s.value.sealIntact&&s.value.pinInPlace&&s.value.nozzleClear&&s.value.hoseConditionGood&&s.value.gaugeInGreenZone&&!s.value.physicalDamagePresent),K=N(()=>m.value===0?s.value.extinguisherId&&s.value.inspectionType&&s.value.inspectionDate:!0);ae(async()=>{try{await Promise.all([p.fetchInspections(),p.fetchStats(),T.fetchExtinguishers()])}catch(g){console.error("Failed to load inspection data:",g),D.error("Failed to load inspections")}});const j=()=>{var g;E(),s.value.inspectorUserId=((g=H.user)==null?void 0:g.userId)||"",m.value=0,A.value=!0,navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{s.value.gpsLatitude=t.coords.latitude,s.value.gpsLongitude=t.coords.longitude,s.value.gpsAccuracyMeters=t.coords.accuracy},t=>{console.warn("Could not get GPS location:",t)})},J=()=>{y.value&&y.value.lastServiceDate&&(s.value.previousInspectionDate=y.value.lastServiceDate)},Q=()=>{m.value<V.length-1&&m.value++},X=()=>{m.value>0&&m.value--},ee=async()=>{var g,t,a;S.value=!0;try{const v={...s.value,damageDescription:s.value.damageDescription||null,gaugePressurePsi:s.value.gaugePressurePsi||null,weightPounds:s.value.weightPounds||null,notes:s.value.notes||null,failureReason:s.value.failureReason||null,correctiveAction:s.value.correctiveAction||null,gpsLatitude:s.value.gpsLatitude||null,gpsLongitude:s.value.gpsLongitude||null,gpsAccuracyMeters:s.value.gpsAccuracyMeters||null,previousInspectionDate:s.value.previousInspectionDate||null,photoUrls:(g=s.value.photoUrls)!=null&&g.length?s.value.photoUrls:null};await p.createInspection(v),D.success("Inspection submitted successfully"),R(),await Promise.all([p.fetchInspections(),p.fetchStats()])}catch(v){console.error("Failed to submit inspection:",v),D.error(((a=(t=v.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to submit inspection")}finally{S.value=!1}},te=g=>{r.value=g,q.value=!0},U=()=>{q.value=!1,setTimeout(()=>{r.value=null},200)},se=async g=>{if(confirm(`Are you sure you want to delete this inspection?

Date: ${C(g.inspectionDate)}
Extinguisher: ${g.extinguisherCode}

This action cannot be undone.`))try{await p.deleteInspection(g.inspectionId),D.success("Inspection deleted successfully")}catch(t){console.error("Failed to delete inspection:",t),D.error("Failed to delete inspection")}},R=()=>{S.value||(m.value>0?confirm("Are you sure you want to cancel this inspection? All data will be lost.")&&(A.value=!1,setTimeout(E,200)):(A.value=!1,setTimeout(E,200)))},E=()=>{m.value=0,s.value={extinguisherId:"",inspectorUserId:"",inspectionDate:new Date().toISOString().split("T")[0],inspectionType:"",gpsLatitude:null,gpsLongitude:null,gpsAccuracyMeters:null,isAccessible:!0,hasObstructions:!1,signageVisible:!0,sealIntact:!0,pinInPlace:!0,nozzleClear:!0,hoseConditionGood:!0,gaugeInGreenZone:!0,gaugePressurePsi:null,physicalDamagePresent:!1,damageDescription:"",weightPounds:null,inspectionTagAttached:!0,previousInspectionDate:null,notes:"",requiresService:!1,requiresReplacement:!1,failureReason:"",correctiveAction:"",photoUrls:[]}},C=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(g,t)=>(n(),c(re,null,{default:G(()=>[e("div",null,[e("div",pe,[t[23]||(t[23]=e("div",null,[e("h1",{class:"text-3xl font-display font-semibold text-gray-900 mb-2","data-testid":"inspections-heading"}," Inspections "),e("p",{class:"text-gray-600"}," Perform and review fire extinguisher inspections ")],-1)),e("button",{class:"btn-primary inline-flex items-center","data-testid":"new-inspection-button",onClick:j},[x(i(Z),{class:"h-5 w-5 mr-2"}),t[22]||(t[22]=P(" Start Inspection ",-1))])]),i(p).error?(n(),l("div",me,[x(i(L),{class:"h-5 w-5"}),e("div",ge,[e("p",ve,o(i(p).error),1)]),e("button",{type:"button",class:"text-red-400 hover:text-red-600",onClick:t[0]||(t[0]=a=>i(p).clearError())},[x(i(b),{class:"h-5 w-5"})])])):d("",!0),i(p).stats?(n(),l("div",xe,[e("div",ye,[e("div",fe,[e("div",be,[t[24]||(t[24]=e("span",{class:"text-sm font-medium text-gray-500"},"Total",-1)),x(i(B),{class:"h-8 w-8 text-gray-400"})]),e("div",he,o(i(p).stats.totalInspections),1)])]),e("div",we,[e("div",ke,[e("div",_e,[t[25]||(t[25]=e("span",{class:"text-sm font-medium text-gray-500"},"Passed",-1)),x(i(W),{class:"h-8 w-8 text-green-400"})]),e("div",Ie,o(i(p).stats.passedInspections),1)])]),e("div",De,[e("div",Se,[e("div",Ce,[t[26]||(t[26]=e("span",{class:"text-sm font-medium text-gray-500"},"Failed",-1)),x(i(L),{class:"h-8 w-8 text-red-400"})]),e("div",Pe,o(i(p).stats.failedInspections),1)])]),e("div",Ae,[e("div",Ve,[e("div",Re,[t[27]||(t[27]=e("span",{class:"text-sm font-medium text-gray-500"},"Pass Rate",-1)),x(i(de),{class:"h-8 w-8 text-blue-400"})]),e("div",Te,o((i(p).stats.passRate||0).toFixed(1))+"% ",1)])])])):d("",!0),i(p).loading?(n(),l("div",qe,[...t[28]||(t[28]=[e("div",{class:"p-12 text-center"},[e("div",{class:"spinner-lg mx-auto mb-4"}),e("p",{class:"text-gray-600"}," Loading inspections... ")],-1)])])):i(p).inspections.length>0?(n(),l("div",Ue,[e("div",Ee,[e("table",Ne,[t[29]||(t[29]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Extinguisher "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inspector "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ge,[(n(!0),l(z,null,F(i(p).recentInspections,a=>(n(),l("tr",{key:a.inspectionId,class:"hover:bg-gray-50"},[e("td",ze,o(C(a.inspectionDate)),1),e("td",Fe,o(a.extinguisherCode),1),e("td",Le,o(a.locationName),1),e("td",Me,[e("span",je,o(a.inspectionType),1)]),e("td",$e,o(a.inspectorName),1),e("td",Oe,[e("span",{class:w([a.passed?"badge-success":"badge-danger"])},o(a.passed?"Passed":"Failed"),3),a.requiresService?(n(),l("span",Ye," Service ")):d("",!0),a.requiresReplacement?(n(),l("span",Be," Replace ")):d("",!0)]),e("td",Ze,[e("button",{class:"text-primary-600 hover:text-primary-900 mr-3",onClick:v=>te(a)}," View ",8,We),e("button",{class:"text-red-600 hover:text-red-900",onClick:v=>se(a)}," Delete ",8,He)])]))),128))])])])])):(n(),l("div",Ke,[e("div",Je,[e("div",Qe,[x(i(B),{class:"h-8 w-8 text-primary-600"})]),t[31]||(t[31]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," No inspections yet ",-1)),t[32]||(t[32]=e("p",{class:"text-gray-600 mb-6"}," Get started by performing your first extinguisher inspection ",-1)),e("button",{class:"btn-primary inline-flex items-center","data-testid":"empty-state-start-button",onClick:j},[x(i(Z),{class:"h-5 w-5 mr-2"}),t[30]||(t[30]=P(" Start Your First Inspection ",-1))])])]))]),x(Y,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:G(()=>[A.value?(n(),l("div",{key:0,class:"modal-overlay",onClick:O(R,["self"])},[e("div",Xe,[e("div",et,[e("div",tt,[e("div",st,[t[33]||(t[33]=e("h2",{class:"text-2xl font-display font-semibold text-gray-900"}," Fire Extinguisher Inspection ",-1)),e("button",{type:"button",class:"text-gray-400 hover:text-gray-600 transition-colors",onClick:R},[x(i(b),{class:"h-6 w-6"})])]),e("div",at,[(n(),l(z,null,F(V,(a,v)=>e("div",{key:v,class:"flex items-center flex-1"},[e("div",nt,[e("div",{class:w(["flex items-center justify-center w-10 h-10 rounded-full transition-colors",[m.value>v?"bg-green-500 text-white":m.value===v?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"]])},[m.value>v?(n(),c(i(h),{key:0,class:"h-5 w-5"})):(n(),l("span",it,o(v+1),1))],2),e("span",{class:w(["mt-2 text-xs font-medium",[m.value>=v?"text-gray-900":"text-gray-500"]])},o(a.name),3)]),v<V.length-1?(n(),l("div",{key:0,class:w(["flex-1 h-1 mx-2 transition-colors",[m.value>v?"bg-green-500":"bg-gray-200"]])},null,2)):d("",!0)])),64))])]),e("div",lt,[m.value===0?(n(),l("div",ot,[t[47]||(t[47]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Select Extinguisher ",-1)),e("div",rt,[t[35]||(t[35]=e("label",{for:"extinguisher",class:"form-label"}," Extinguisher * ",-1)),u(e("select",{id:"extinguisher","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.extinguisherId=a),required:"",class:"form-input",onChange:J},[t[34]||(t[34]=e("option",{value:""}," -- Select Extinguisher -- ",-1)),(n(!0),l(z,null,F(i(T).activeExtinguishers,a=>(n(),l("option",{key:a.extinguisherId,value:a.extinguisherId},o(a.extinguisherCode)+" - "+o(a.locationName),9,dt))),128))],544),[[$,s.value.extinguisherId]])]),y.value?(n(),l("div",ut,[t[42]||(t[42]=e("h4",{class:"font-medium text-gray-900 mb-2"}," Extinguisher Details ",-1)),e("div",ct,[e("div",null,[t[36]||(t[36]=e("span",{class:"text-gray-500"},"Code:",-1)),e("span",pt,o(y.value.extinguisherCode),1)]),e("div",null,[t[37]||(t[37]=e("span",{class:"text-gray-500"},"Type:",-1)),e("span",mt,o(y.value.typeName),1)]),e("div",null,[t[38]||(t[38]=e("span",{class:"text-gray-500"},"Location:",-1)),e("span",gt,o(y.value.locationName),1)]),e("div",null,[t[39]||(t[39]=e("span",{class:"text-gray-500"},"Serial:",-1)),e("span",vt,o(y.value.serialNumber),1)]),y.value.lastServiceDate?(n(),l("div",xt,[t[40]||(t[40]=e("span",{class:"text-gray-500"},"Last Service:",-1)),e("span",yt,o(C(y.value.lastServiceDate)),1)])):d("",!0),y.value.nextServiceDueDate?(n(),l("div",ft,[t[41]||(t[41]=e("span",{class:"text-gray-500"},"Next Service:",-1)),e("span",bt,o(C(y.value.nextServiceDueDate)),1)])):d("",!0)])])):d("",!0),e("div",ht,[t[44]||(t[44]=e("label",{for:"inspectionType",class:"form-label"}," Inspection Type * ",-1)),u(e("select",{id:"inspectionType","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.inspectionType=a),required:"",class:"form-input"},[...t[43]||(t[43]=[e("option",{value:""}," -- Select Type -- ",-1),e("option",{value:"Monthly"}," Monthly ",-1),e("option",{value:"Annual"}," Annual ",-1),e("option",{value:"5-Year"}," 5-Year ",-1),e("option",{value:"12-Year"}," 12-Year ",-1)])],512),[[$,s.value.inspectionType]]),t[45]||(t[45]=e("p",{class:"form-helper"}," Monthly: Visual inspection. Annual: Full inspection. 5-Year: Internal examination. 12-Year: Hydrostatic test. ",-1))]),e("div",wt,[t[46]||(t[46]=e("label",{for:"inspectionDate",class:"form-label"}," Inspection Date * ",-1)),u(e("input",{id:"inspectionDate","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.inspectionDate=a),type:"date",required:"",class:"form-input"},null,512),[[k,s.value.inspectionDate]])])])):d("",!0),m.value===1?(n(),l("div",kt,[t[67]||(t[67]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Inspection Checklist ",-1)),e("div",_t,[t[51]||(t[51]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Accessibility & Location ",-1)),e("div",It,[e("label",Dt,[u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s.value.isAccessible=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.isAccessible]]),t[48]||(t[48]=e("span",{class:"ml-2 text-sm text-gray-700"},"Extinguisher is accessible",-1))]),e("label",St,[u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>s.value.hasObstructions=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.hasObstructions]]),t[49]||(t[49]=e("span",{class:"ml-2 text-sm text-gray-700"},"Obstructions present (check if YES)",-1))]),e("label",Ct,[u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>s.value.signageVisible=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.signageVisible]]),t[50]||(t[50]=e("span",{class:"ml-2 text-sm text-gray-700"},"Signage visible",-1))])])]),e("div",Pt,[t[57]||(t[57]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Physical Condition ",-1)),e("div",At,[e("label",Vt,[u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>s.value.sealIntact=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.sealIntact]]),t[52]||(t[52]=e("span",{class:"ml-2 text-sm text-gray-700"},"Tamper seal intact",-1))]),e("label",Rt,[u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>s.value.pinInPlace=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.pinInPlace]]),t[53]||(t[53]=e("span",{class:"ml-2 text-sm text-gray-700"},"Safety pin in place",-1))]),e("label",Tt,[u(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>s.value.nozzleClear=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.nozzleClear]]),t[54]||(t[54]=e("span",{class:"ml-2 text-sm text-gray-700"},"Nozzle clear and unobstructed",-1))]),e("label",qt,[u(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>s.value.hoseConditionGood=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.hoseConditionGood]]),t[55]||(t[55]=e("span",{class:"ml-2 text-sm text-gray-700"},"Hose in good condition",-1))]),e("label",Ut,[u(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.value.inspectionTagAttached=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.inspectionTagAttached]]),t[56]||(t[56]=e("span",{class:"ml-2 text-sm text-gray-700"},"Inspection tag attached",-1))])])]),e("div",Et,[t[60]||(t[60]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Gauge & Pressure ",-1)),e("div",Nt,[e("label",Gt,[u(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>s.value.gaugeInGreenZone=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.gaugeInGreenZone]]),t[58]||(t[58]=e("span",{class:"ml-2 text-sm text-gray-700"},"Gauge needle in green zone",-1))]),e("div",null,[t[59]||(t[59]=e("label",{for:"gaugePressure",class:"form-label"}," Gauge Pressure (PSI) ",-1)),u(e("input",{id:"gaugePressure","onUpdate:modelValue":t[13]||(t[13]=a=>s.value.gaugePressurePsi=a),type:"number",step:"0.1",class:"form-input",placeholder:"150"},null,512),[[k,s.value.gaugePressurePsi,void 0,{number:!0}]])])])]),e("div",zt,[t[63]||(t[63]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Damage Assessment ",-1)),e("div",Ft,[e("label",Lt,[u(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.value.physicalDamagePresent=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.physicalDamagePresent]]),t[61]||(t[61]=e("span",{class:"ml-2 text-sm text-gray-700"},"Physical damage present (check if YES)",-1))]),s.value.physicalDamagePresent?(n(),l("div",Mt,[t[62]||(t[62]=e("label",{for:"damageDescription",class:"form-label"}," Damage Description * ",-1)),u(e("textarea",{id:"damageDescription","onUpdate:modelValue":t[15]||(t[15]=a=>s.value.damageDescription=a),rows:"3",class:"form-input",placeholder:"Describe the damage..."},null,512),[[k,s.value.damageDescription]])])):d("",!0)])]),e("div",jt,[t[66]||(t[66]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Weight Check ",-1)),e("div",$t,[e("div",null,[t[64]||(t[64]=e("label",{for:"weight",class:"form-label"}," Weight (pounds) ",-1)),u(e("input",{id:"weight","onUpdate:modelValue":t[16]||(t[16]=a=>s.value.weightPounds=a),type:"number",step:"0.1",class:"form-input",placeholder:"10.5"},null,512),[[k,s.value.weightPounds,void 0,{number:!0}]]),t[65]||(t[65]=e("p",{class:"form-helper"}," Required for CO2 and halon extinguishers ",-1))])])])])):d("",!0),m.value===2?(n(),l("div",Ot,[t[73]||(t[73]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Results & Corrective Actions ",-1)),e("div",Yt,[t[68]||(t[68]=e("label",{for:"notes",class:"form-label"}," General Notes ",-1)),u(e("textarea",{id:"notes","onUpdate:modelValue":t[17]||(t[17]=a=>s.value.notes=a),rows:"4",class:"form-input",placeholder:"Additional observations or comments..."},null,512),[[k,s.value.notes]])]),e("div",Bt,[e("label",Zt,[u(e("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>s.value.requiresService=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.requiresService]]),t[69]||(t[69]=e("span",{class:"ml-2 text-sm font-medium text-gray-700"},"Requires service",-1))]),e("label",Wt,[u(e("input",{"onUpdate:modelValue":t[19]||(t[19]=a=>s.value.requiresReplacement=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,s.value.requiresReplacement]]),t[70]||(t[70]=e("span",{class:"ml-2 text-sm font-medium text-gray-700"},"Requires replacement",-1))])]),s.value.requiresService||s.value.requiresReplacement?(n(),l("div",Ht,[t[71]||(t[71]=e("label",{for:"failureReason",class:"form-label"}," Failure Reason ",-1)),u(e("textarea",{id:"failureReason","onUpdate:modelValue":t[20]||(t[20]=a=>s.value.failureReason=a),rows:"3",class:"form-input",placeholder:"Explain why the extinguisher failed..."},null,512),[[k,s.value.failureReason]])])):d("",!0),s.value.requiresService||s.value.requiresReplacement?(n(),l("div",Kt,[t[72]||(t[72]=e("label",{for:"correctiveAction",class:"form-label"}," Corrective Action Required ",-1)),u(e("textarea",{id:"correctiveAction","onUpdate:modelValue":t[21]||(t[21]=a=>s.value.correctiveAction=a),rows:"3",class:"form-input",placeholder:"Describe required corrective actions..."},null,512),[[k,s.value.correctiveAction]])])):d("",!0),e("div",{class:w(["card p-6",_.value?"bg-green-50 border-2 border-green-500":"bg-red-50 border-2 border-red-500"])},[e("div",Jt,[_.value?(n(),c(i(W),{key:0,class:"h-12 w-12 text-green-600 mr-4"})):(n(),c(i(L),{key:1,class:"h-12 w-12 text-red-600 mr-4"})),e("div",null,[e("h4",{class:w(["text-lg font-semibold",_.value?"text-green-900":"text-red-900"])},o(_.value?"Inspection Passed":"Inspection Failed"),3),e("p",{class:w(["text-sm",_.value?"text-green-700":"text-red-700"])},o(_.value?"Extinguisher meets all inspection criteria":"Extinguisher requires attention"),3)])])],2)])):d("",!0)]),e("div",Qt,[m.value>0?(n(),l("button",{key:0,type:"button",class:"btn-outline inline-flex items-center",onClick:X},[x(i(ue),{class:"h-5 w-5 mr-1"}),t[74]||(t[74]=P(" Previous ",-1))])):(n(),l("div",Xt)),e("div",es,[e("button",{type:"button",class:"btn-outline",onClick:R}," Cancel "),m.value<V.length-1?(n(),l("button",{key:0,type:"button",class:"btn-primary inline-flex items-center",disabled:!K.value,onClick:Q},[t[75]||(t[75]=P(" Next ",-1)),x(i(ce),{class:"h-5 w-5 ml-1"})],8,ts)):(n(),l("button",{key:1,type:"button",class:"btn-primary",disabled:S.value,onClick:ee},[S.value?(n(),l("span",ns,[...t[76]||(t[76]=[e("div",{class:"spinner mr-2"},null,-1),P(" Submitting... ",-1)])])):(n(),l("span",as,"Submit Inspection"))],8,ss))])])])])])):d("",!0)]),_:1}),x(Y,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:G(()=>[q.value?(n(),l("div",{key:0,class:"modal-overlay",onClick:O(U,["self"])},[e("div",is,[r.value?(n(),l("div",ls,[e("div",os,[t[77]||(t[77]=e("h2",{class:"text-2xl font-display font-semibold text-gray-900"}," Inspection Details ",-1)),e("button",{type:"button",class:"text-gray-400 hover:text-gray-600",onClick:U},[x(i(b),{class:"h-6 w-6"})])]),e("div",rs,[e("div",ds,[e("div",null,[t[78]||(t[78]=e("span",{class:"text-sm text-gray-500"},"Date:",-1)),e("p",us,o(C(r.value.inspectionDate)),1)]),e("div",null,[t[79]||(t[79]=e("span",{class:"text-sm text-gray-500"},"Type:",-1)),e("p",cs,o(r.value.inspectionType),1)]),e("div",null,[t[80]||(t[80]=e("span",{class:"text-sm text-gray-500"},"Extinguisher:",-1)),e("p",ps,o(r.value.extinguisherCode),1)]),e("div",null,[t[81]||(t[81]=e("span",{class:"text-sm text-gray-500"},"Inspector:",-1)),e("p",ms,o(r.value.inspectorName),1)])]),e("div",null,[e("span",{class:w(["inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium",r.value.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(r.value.passed?"Passed":"Failed"),3),r.value.requiresService?(n(),l("span",gs," Requires Service ")):d("",!0),r.value.requiresReplacement?(n(),l("span",vs," Requires Replacement ")):d("",!0)]),e("div",xs,[t[90]||(t[90]=e("h3",{class:"font-medium text-gray-900 mb-3"}," Checklist Results ",-1)),e("div",ys,[e("div",fs,[r.value.isAccessible?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[82]||(t[82]=e("span",null,"Accessible",-1))]),e("div",bs,[r.value.hasObstructions?(n(),c(i(b),{key:0,class:"h-4 w-4 text-red-600 mr-2"})):(n(),c(i(h),{key:1,class:"h-4 w-4 text-green-600 mr-2"})),t[83]||(t[83]=e("span",null,"No Obstructions",-1))]),e("div",hs,[r.value.signageVisible?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[84]||(t[84]=e("span",null,"Signage Visible",-1))]),e("div",ws,[r.value.sealIntact?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[85]||(t[85]=e("span",null,"Seal Intact",-1))]),e("div",ks,[r.value.pinInPlace?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[86]||(t[86]=e("span",null,"Pin in Place",-1))]),e("div",_s,[r.value.nozzleClear?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[87]||(t[87]=e("span",null,"Nozzle Clear",-1))]),e("div",Is,[r.value.hoseConditionGood?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[88]||(t[88]=e("span",null,"Hose Good",-1))]),e("div",Ds,[r.value.gaugeInGreenZone?(n(),c(i(h),{key:0,class:"h-4 w-4 text-green-600 mr-2"})):(n(),c(i(b),{key:1,class:"h-4 w-4 text-red-600 mr-2"})),t[89]||(t[89]=e("span",null,"Gauge Green",-1))])])]),r.value.notes?(n(),l("div",Ss,[t[91]||(t[91]=e("h3",{class:"font-medium text-gray-900 mb-2"}," Notes ",-1)),e("p",Cs,o(r.value.notes),1)])):d("",!0),r.value.failureReason?(n(),l("div",Ps,[t[92]||(t[92]=e("h3",{class:"font-medium text-gray-900 mb-2"}," Failure Reason ",-1)),e("p",As,o(r.value.failureReason),1)])):d("",!0),r.value.correctiveAction?(n(),l("div",Vs,[t[93]||(t[93]=e("h3",{class:"font-medium text-gray-900 mb-2"}," Corrective Action ",-1)),e("p",Rs,o(r.value.correctiveAction),1)])):d("",!0),e("button",{class:"btn-outline w-full",onClick:U}," Close ")])])):d("",!0)])])):d("",!0)]),_:1})]),_:1}))}};export{Bs as default};
