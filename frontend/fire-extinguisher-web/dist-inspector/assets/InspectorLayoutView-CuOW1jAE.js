import{c as a,o as g,a as x,b as i,h as r,f as e,x as l,T as u,t as p,p as L,i as b,u as k,g as s,e as f,y as C,z as I}from"./vendor-8rVgzruD.js";import{u as V}from"./index-DcSKaWik.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"inspector-layout"},E={key:0,class:"offline-banner","data-testid":"offline-banner"},N={key:0,class:"draft-count"},O={class:"inspector-header"},M={class:"header-content"},z={class:"header-right"},D={class:"inspector-name","data-testid":"inspector-name"},T={class:"inspector-main"},q={__name:"InspectorLayoutView",setup(A){const v=k(),o=V(),m=a(()=>o.user),_=a(()=>o.isOnline),d=a(()=>o.draftInspections.length),h=()=>{confirm("Are you sure you want to logout?")&&(o.logout(),v.push("/inspector/login"))},n=()=>{o.updateOnlineStatus(navigator.onLine)};return g(()=>{window.addEventListener("online",n),window.addEventListener("offline",n)}),x(()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}),(F,t)=>{var c;const w=b("router-view");return s(),i("div",S,[r(u,{name:"slide-down"},{default:l(()=>[_.value?f("",!0):(s(),i("div",E,[t[0]||(t[0]=e("svg",{class:"banner-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)),t[1]||(t[1]=e("span",null,"You're offline. Inspections will sync when online.",-1)),d.value>0?(s(),i("span",N,p(d.value)+" in queue",1)):f("",!0)]))]),_:1}),e("header",O,[e("div",M,[t[3]||(t[3]=e("div",{class:"header-left"},[e("h1",{class:"header-title","data-testid":"header-title"},"FireProof Inspector")],-1)),e("div",z,[e("span",D,p(((c=m.value)==null?void 0:c.firstName)||"Inspector"),1),e("button",{onClick:h,class:"btn-logout","data-testid":"logout-button"},[...t[2]||(t[2]=[L('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-25760648><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4" data-v-25760648></path><polyline points="16 17 21 12 16 7" data-v-25760648></polyline><line x1="21" y1="12" x2="9" y2="12" data-v-25760648></line></svg><span class="btn-text" data-v-25760648>Logout</span>',2)])])])])]),e("main",T,[r(w,null,{default:l(({Component:y})=>[r(u,{name:"fade",mode:"out-in"},{default:l(()=>[(s(),C(I(y)))]),_:2},1024)]),_:1})])])}}},U=B(q,[["__scopeId","data-v-25760648"]]);export{U as default};
